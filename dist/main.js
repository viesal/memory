!function(e){var t={};function s(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=t,s.d=function(e,t,i){s.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},s.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=1)}([function(e,t){class s{constructor(e){this.el=document.createElement("div"),this.el.className="Card",this.shirt=document.createElement("div"),this.shirt.className="Card__shirt",this.face=document.createElement("div"),this.face.className="Card__face",this.container=e,this.container.appendChild(this.el),this.el.appendChild(this.shirt),this.el.appendChild(this.face)}rotate(){this.rotated?this.el.className="Card":this.el.className="Card Card_rotated",this.rotated=!this.rotated}}e.exports=class{constructor(e,t){for(this.container=t;this.container.firstChild;)this.container.removeChild(this.container.firstChild);this.cards=[];for(let t of this.randomArr()){let i=new s(this.container);i.face.style.backgroundImage="url("+e[t].img+")",i.name=e[t].name,this.cards.push(i)}let i=0,n=0;for(let e in this.cards)6!=e&&12!=e||(n+=173,i=0),this.cards[e].index=e,this.cards[e].el.style.top=n+"px",this.cards[e].el.style.left=i+"px",this.cards[e].el.addEventListener("click",()=>{this.rotateElement(this.cards[e])}),i+=130;this.select_card=null,this.select_index=-1,this.score=0,this.layone_cards=0,this.block_el=document.createElement("div"),this.block_el.className="Block",this.container.appendChild(this.block_el),this.rotateAll(),this.change_score=new CustomEvent("change_score",{detail:{score:this.score}}),this.finish_event=new Event("finish")}randomArr(){let e=[];for(;e.length<18;){let t=36*Math.random();t=Math.floor(t),-1==e.indexOf(t)&&(e.push(t),e.push(t))}let t=e.length;for(;0!=t;){t-=1;let s=Math.floor(Math.random()*(t+1)),i=e[t];e[t]=e[s],e[s]=i}return e}block(){this.blocked?this.block_el.style.zIndex=-1:this.block_el.style.zIndex=0,this.blocked=!this.blocked}rotateElement(e){e.rotate(),this.block(),null==this.select_card?(this.select_card=e,this.block()):this.select_card.name==e.name&&e.index!=this.select_card.index?(this.layone_cards+=2,this.score+=42*(18-this.layone_cards),setTimeout(()=>{this.change_score.detail.score=this.score,document.dispatchEvent(this.change_score),e.el.remove(),this.cards[this.select_card.index].el.remove(),this.select_card=null,this.block(),18==this.layone_cards&&document.dispatchEvent(this.finish_event)},1500)):(this.score-=42*this.layone_cards,setTimeout(()=>{this.change_score.detail.score=this.score,document.dispatchEvent(this.change_score),e.rotate(),this.cards[this.select_card.index].rotate(),this.select_card=null,this.block()},1500))}rotateAll(){this.block(),setTimeout(()=>{for(let e of this.cards)e.rotate()},1e3),setTimeout(()=>{for(let e of this.cards)e.rotate();this.block()},5e3)}}},function(e,t,s){"use strict";let i=s(0);function n(){let e=document.getElementById("cont1"),t=document.getElementById("cont2"),s=document.getElementById("cont3");e.style.visibility="hidden",t.style.visibility="visible",s.style.visibility="hidden",playground=new i.Playground(cards,document.getElementById("cards"))}console.log("123"),window.onload=(()=>{!function(){let e=document.getElementById("cont1"),t=document.getElementById("cont2"),s=document.getElementById("cont3");e.style.visibility="visible",t.style.visibility="hidden",s.style.visibility="hidden"}(),document.addEventListener("finish",function(){!function(){let e=document.getElementById("cont1"),t=document.getElementById("cont2"),s=document.getElementById("cont3");e.style.visibility="hidden",t.style.visibility="hidden",s.style.visibility="visible"}()}),document.addEventListener("change_score",function(e){for(let t of document.getElementsByClassName("score"))t.innerHTML=e.detail.score});for(let e of document.getElementsByClassName("StartGame"))e.addEventListener("click",n())})}]);